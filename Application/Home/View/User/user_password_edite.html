
<div class="main-content">
    <div class="breadcrumbs" id="breadcrumbs">
                <script type="text/javascript">
                    try{ace.settings.check('breadcrumbs' , 'fixed')}catch(e){}
                </script>

                <ul class="breadcrumb">
                    <li>
                        修改密码
                    </li>

                </ul><!-- .breadcrumb -->
    </div>
           <div class="col-sm-12">
             <div class="row">
                    <div class="col-xs-12">
                                <!-- PAGE CONTENT BEGINS -->

                        <form id="password_edit_form" style="padding-top: 40px" class="form-horizontal form-actions" role="form">
                
                            <div class="form-group">
                                <label class="col-sm-4 control-label no-padding-right"> 当前密码</label>

                                <div class="col-sm-7">
                                    <input type="password" name="password"  class="col-xs-10 col-sm-5" pattern="^\S{6,18}$"  title="请输入6-18位密码" required />
                                </div>
                            </div>

                            <div class="space-4"></div>

                            <div class="form-group">
                                <label class="col-sm-4 control-label no-padding-right"> 新密码</label>

                                <div class="col-sm-7">
                                    <input type="password" name="password_new"  class="col-xs-10 col-sm-5" pattern="^\S{6,18}$"  title="请输入6-18位密码" required />
                                </div>
                            </div>
                            <div class="space-4"></div>

                            <div class="form-group">
                                <label class="col-sm-4 control-label no-padding-right"> 确认新密码</label>

                                <div class="col-sm-7">
                                    <input type="password" name="password_new2"  class="col-xs-10 col-sm-5" pattern="^\S{6,18}$"  title="请输入6-18位密码" required />
                                </div>
                            </div>


                            <div class="clearfix form-actions">
                                <div class="col-md-offset-3 col-md-5">
                                    <button id="plcygroup_button" class="btn btn-info" type="submit">
                                        <i class="icon-ok bigger-110"></i>
                                        提交
                                    </button>
                                    &nbsp; &nbsp; &nbsp;
                                    <button class="btn" type="reset">
                                        <i class="icon-undo bigger-110"></i>
                                        取消
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div><!-- /.col -->
                </div><!-- /.row -->      
            </div>
            <div id="ajaxAlert"  class="popLayer" style="top:100px;left:50%;width: 20%;margin-left:-10%;">
                <div class="breadcrumbs">
                    <ul class="breadcrumb">
                        <li>
                            提示
                        </li>
                    </ul>
                    <!-- .breadcrumb -->
                    <span class="floatRig closePop"></span>
                </div>

                <div class="tipText">              
                </div>
           </div>
        </div>

<script>
    $('#password_edit_form').submit(function(e){
        e.stopPropagation();
        e.preventDefault();
        var password_data = $('#password_edit_form').serialize();
        $.ajax({
            url:'__URL__/password_edit',
            type:'POST',
            dataType:'json',
            data:password_data,
            success:function(data){
                if(data.status=='success'){
                    layer.msg(data.msg);
                    window.location.href="__URL__/user";
                }else{
                    layer.msg(data.msg);
                    
                    /*if(data.status=='error1'){
                        layer.alert(data.msg);
                       //$("#ajaxAlert .tipText").html("当前密码错误");
                    }else if (data.status=='error2') {
                       //$("#ajaxAlert .tipText").html("两次输入的密码不一致!");
                    }else{
                       $("#ajaxAlert .tipText").html("修改失败");
                    }*/
                }
            }
        });
    });
</script>